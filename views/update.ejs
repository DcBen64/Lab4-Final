<!doctype html>
<html lang="en">

<head>
  <%- include('partials/_header.ejs', { title: (dataType === 'contact' ? 'Update Contact - WEBD6201 Demo' : 'Update User - WEBD6201 Demo'), user: locals.user || null }) %>
</head>


<body>


  <main class="container mt-5">
    <div class="row">
      <div class="offset-md-3 col-md-6 col-sm-12">
        <div class="update" id="contentArea">
          <h1 class="display-4"><%= dataType === 'contact' ? 'Update Contact' : 'Update User' %></h1>
          <form id="updateForm" action="/update/<%= dataType %>/<%= dataType === 'contact' ? contact._id : user._id %>" method="post" novalidate>
            <% if (dataType === 'contact') { %>
              <!-- Contact update form fields -->
              <div class="form-group">
                <div class="row">
                  <div class="col-md-12">
                    <input class="form-control" type="text" name="name" id="name" placeholder="Name" value="<%= contact.name %>" required>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-12">
                    <input type="email" class="form-control" id="emailAddress" name="emailAddress" required value="<%= contact.email %>" placeholder="Email">
                  </div>
                </div>
              </div>
            <% } else if (dataType === 'user') { %>
              <!-- User update form fields -->
              <div class="form-group">
                <div class="row">
                  <div class="col-md-6">
                    <input class="form-control" type="text" name="firstName" id="firstName" placeholder="First Name" value="<%= user.firstName %>" required>
                  </div>
                  <div class="col-md-6">
                    <input class="form-control" type="text" name="lastName" id="lastName" placeholder="Last Name" value="<%= user.lastName %>" required>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-12">
                    <input type="email" class="form-control" id="emailAddress" name="email" required value="<%= user.email %>" placeholder="Email">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-12">
                    <input type="password" class="form-control" id="password" name="password" required placeholder="New Password">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-md-12">
                    <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required placeholder="Confirm New Password">
                  </div>
                </div>
              </div>
            <% } %>
            <div class="text-end">
              <button id="updateButton" type="submit" class="btn btn-primary btn-lg"><i class="fas fa-save"></i> Update</button>
              <button id="cancelButton" type="button" class="btn btn-warning btn-lg"><i class="fas fa-undo"></i> Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>
  
  </body>
  
  </html>
  <%- include('partials/_footer.ejs') %>