<!doctype html>
<html lang="en">

<head>
    <%- include('partials/_header', { title: 'Contact-List - WEBD6201 Demo' }) %>
</head>

<body>
  <!-- Navigation code here -->

  <main class="container mt-5">
    <h1>Contact List</h1>

    <div class="row">
      <div class="col">
        <a href="/add-contact" class="btn btn-primary mb-1">
            <i class="fas fa-plus-circle"></i> Add Contact
        </a>

        <table class="table table-striped table-bordered table-hover">
          <thead class="table-dark">
            <tr>
              <th scope="col" class="text-center">#</th>
              <th scope="col">Full Name</th>
              <th scope="col">Contact Number</th>
              <th scope="col">Email Address</th>
              <th scope="col"></th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody id="contactList">
            <% contacts.forEach((contact, index) => { %>
              <tr>
                <th scope="row" class="text-center"><%= index + 1 %></th>
                <td><%= contact.name %></td>
                <td><%= contact.contactNumber %></td>
                <td><%= contact.emailAddress %></td>
                <td>
                  <a href="/update/contact/<%= contact._id %>" class="btn btn-primary">
                    <i class="fas fa-edit"></i> Edit
                  </a>                  
                </td>
                <td>
                  <form action="/contact/<%= contact._id %>?_method=DELETE" method="post">
                    <button type="submit" class="btn btn-danger">
                      <i class="fas fa-trash-alt"></i> Delete
                    </button>
                  </form>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </main>

  <%- include('partials/_footer.ejs') %>
</body>

</html>
